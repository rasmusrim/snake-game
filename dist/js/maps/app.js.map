{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_Helpers2","obj","__esModule","default","_interopRequireDefault","Answer","this","setValue","div","document","createElement","className","style","top","getYPosition","left","getXPosition","innerHTML","getValue","setDiv","maxX","maxY","setXPosition","getRandomInteger","setYPosition","xPosition","yPosition","./Helpers","2","DIRECTION_UP","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_LEFT","3","_Helpers","Equation","min","arguments","undefined","max","setLeftNumber","setRightNumber","setOperator","setMin","setMax","getLeftNumber","getOperator","getRightNumber","numberOfAnswers","answers","push","getCorrectAnswer","randomOtherEquation","getMin","getMax","shuffleArray","equationString","getString","eval","leftNumber","rightNumber","operator","4","Math","ceil","floor","random","j","_ref","5","_Snake2","_Equation2","_Answer2","_Constants2","SnakeGame","arenaElement","snakeLength","setArenaElement","snake","setPartSize","setSpeed","setDirection","initialize","draw","generateAndShowEquation","generateAnswers","showAnswers","addKeyPressListener","startIteration","equation","getElementById","setEquation","getEquation","arena","getArenaElement","setRandomPosition","clientWidth","clientHeight","answerDiv","generateDiv","appendChild","getDiv","parentNode","removeChild","_this","window","onkeydown","move","isCollision","end","answerHit","checkIfSnakeHasHitAnswer","console","log","getSpeed","stopIteration","removeAnswers","checkIfHitDiv","_this2","intervalId","setInterval","doIteration","setIntervalId","clearInterval","getIntervalId","speed","./Answer","./Constants","./Equation","./Snake","6","SnakePart","snakePartId","snakePart","width","getSize","height","updatePosition","direction","getYPixelPosition","getXPixelPosition","size","7","_SnakePart2","Snake","setLength","startXPosition","startYPosition","generateParts","snakeParts","getLength","setSize","getPartSize","moveTo","getDirection","isCollisionWithSnake","isCollisionWithWall","firstSnakePart","getFirstSnakePart","firstSnakePartDiv","x1","offsetLeft","y1","offsetTop","b1","r1","x2","y2","b2","r2","partSize","./Snake-part","8","_SnakeGame2","onload","snakeGame","start","./Snake-game"],"mappings":"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","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Helpers = require('./Helpers');\n\nvar _Helpers2 = _interopRequireDefault(_Helpers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Answer = function () {\n    function Answer(value) {\n        _classCallCheck(this, Answer);\n\n        this.setValue(value);\n    }\n\n    _createClass(Answer, [{\n        key: 'generateDiv',\n        value: function generateDiv() {\n\n            var div = document.createElement('div');\n\n            div.className = 'answer';\n            div.style.top = this.getYPosition();\n            div.style.left = this.getXPosition();\n\n            div.innerHTML = this.getValue();\n\n            this.setDiv(div);\n\n            return div;\n        }\n    }, {\n        key: 'setRandomPosition',\n        value: function setRandomPosition(maxX, maxY) {\n            this.setXPosition(_Helpers2.default.getRandomInteger(0, maxX));\n            this.setYPosition(_Helpers2.default.getRandomInteger(0, maxY));\n        }\n    }, {\n        key: 'setValue',\n        value: function setValue(value) {\n            this.value = value;\n        }\n    }, {\n        key: 'getValue',\n        value: function getValue() {\n            return this.value;\n        }\n    }, {\n        key: 'setXPosition',\n        value: function setXPosition(xPosition) {\n            this.xPosition = xPosition;\n        }\n    }, {\n        key: 'getXPosition',\n        value: function getXPosition() {\n            return this.xPosition;\n        }\n    }, {\n        key: 'setYPosition',\n        value: function setYPosition(yPosition) {\n            this.yPosition = yPosition;\n        }\n    }, {\n        key: 'getYPosition',\n        value: function getYPosition() {\n            return this.yPosition;\n        }\n    }, {\n        key: 'setDiv',\n        value: function setDiv(div) {\n            this.div = div;\n        }\n    }, {\n        key: 'getDiv',\n        value: function getDiv() {\n            return this.div;\n        }\n    }]);\n\n    return Answer;\n}();\n\nexports.default = Answer;\n\n},{\"./Helpers\":4}],2:[function(require,module,exports){\n\"use strict\";\n\nvar DIRECTION_UP = 0;\nvar DIRECTION_RIGHT = 1;\nvar DIRECTION_DOWN = 2;\nvar DIRECTION_LEFT = 3;\n\nmodule.exports = {\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_LEFT: DIRECTION_LEFT\n};\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Helpers = require('./Helpers');\n\nvar _Helpers2 = _interopRequireDefault(_Helpers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Equation = function () {\n    function Equation() {\n        var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n        _classCallCheck(this, Equation);\n\n        this.setLeftNumber(_Helpers2.default.getRandomInteger(min, max));\n        this.setRightNumber(_Helpers2.default.getRandomInteger(min, max));\n        this.setOperator('+');\n\n        this.setMin(min);\n        this.setMax(max);\n    }\n\n    _createClass(Equation, [{\n        key: 'getString',\n        value: function getString() {\n            return this.getLeftNumber() + ' ' + this.getOperator() + ' ' + this.getRightNumber();\n        }\n    }, {\n        key: 'generateAnswers',\n        value: function generateAnswers() {\n            var numberOfAnswers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n\n\n            var answers = [];\n            answers.push(this.getCorrectAnswer());\n\n            for (var i = 0; i < numberOfAnswers - 1; i++) {\n                var randomOtherEquation = new Equation(this.getMin(), this.getMax());\n                answers.push(randomOtherEquation.getCorrectAnswer());\n            }\n\n            _Helpers2.default.shuffleArray(answers);\n\n            return answers;\n        }\n    }, {\n        key: 'getCorrectAnswer',\n        value: function getCorrectAnswer() {\n            var equationString = this.getString();\n            return eval(equationString);\n        }\n    }, {\n        key: 'setLeftNumber',\n        value: function setLeftNumber(leftNumber) {\n            this.leftNumber = leftNumber;\n        }\n    }, {\n        key: 'getLeftNumber',\n        value: function getLeftNumber() {\n            return this.leftNumber;\n        }\n    }, {\n        key: 'setRightNumber',\n        value: function setRightNumber(rightNumber) {\n            this.rightNumber = rightNumber;\n        }\n    }, {\n        key: 'getRightNumber',\n        value: function getRightNumber() {\n            return this.rightNumber;\n        }\n    }, {\n        key: 'setOperator',\n        value: function setOperator(operator) {\n            this.operator = operator;\n        }\n    }, {\n        key: 'getOperator',\n        value: function getOperator() {\n            return this.operator;\n        }\n    }, {\n        key: 'setMin',\n        value: function setMin(min) {\n            this.min = min;\n        }\n    }, {\n        key: 'getMin',\n        value: function getMin() {\n            return this.min;\n        }\n    }, {\n        key: 'setMax',\n        value: function setMax(max) {\n            this.max = max;\n        }\n    }, {\n        key: 'getMax',\n        value: function getMax() {\n            return this.max;\n        }\n    }]);\n\n    return Equation;\n}();\n\nexports.default = Equation;\n\n},{\"./Helpers\":4}],4:[function(require,module,exports){\n\"use strict\";\n\nvar getRandomInteger = function getRandomInteger(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n};\n\nvar shuffleArray = function shuffleArray(a) {\n    for (var i = a.length; i; i--) {\n        var j = Math.floor(Math.random() * i);\n        var _ref = [a[j], a[i - 1]];\n        a[i - 1] = _ref[0];\n        a[j] = _ref[1];\n    }\n};\n\nmodule.exports = {\n    getRandomInteger: getRandomInteger,\n    shuffleArray: shuffleArray\n};\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Snake = require('./Snake');\n\nvar _Snake2 = _interopRequireDefault(_Snake);\n\nvar _Equation = require('./Equation');\n\nvar _Equation2 = _interopRequireDefault(_Equation);\n\nvar _Answer = require('./Answer');\n\nvar _Answer2 = _interopRequireDefault(_Answer);\n\nvar _Constants = require('./Constants');\n\nvar _Constants2 = _interopRequireDefault(_Constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SnakeGame = function () {\n    function SnakeGame(arenaElement) {\n        var snakeLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n        _classCallCheck(this, SnakeGame);\n\n        this.setArenaElement(arenaElement);\n        this.snake = new _Snake2.default(snakeLength);\n\n        this.snake.setArenaElement(arenaElement);\n        this.snake.setPartSize(5);\n        this.setSpeed(100);\n        this.snake.setDirection(_Constants2.default.DIRECTION_RIGHT);\n        this.snake.initialize(5, 5);\n        this.answers = [];\n    }\n\n    _createClass(SnakeGame, [{\n        key: 'start',\n        value: function start() {\n            this.snake.draw();\n            this.generateAndShowEquation();\n            this.generateAnswers();\n            this.showAnswers();\n            this.addKeyPressListener();\n            this.startIteration();\n        }\n    }, {\n        key: 'generateAndShowEquation',\n        value: function generateAndShowEquation() {\n            var equation = new _Equation2.default(100, 1000);\n\n            document.getElementById('equation').innerHTML = equation.getString();\n\n            this.setEquation(equation);\n        }\n    }, {\n        key: 'generateAnswers',\n        value: function generateAnswers() {\n            var numberOfAnswers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n\n            var equation = this.getEquation();\n            var answers = equation.generateAnswers(numberOfAnswers);\n\n            var arena = this.getArenaElement();\n\n            for (var i = 0; i < answers.length; i++) {\n                this.answers[i] = new _Answer2.default(answers[i]);\n                this.answers[i].setRandomPosition(arena.clientWidth - 50, arena.clientHeight - 50);\n            }\n        }\n    }, {\n        key: 'showAnswers',\n        value: function showAnswers() {\n            for (var i = 0; i < this.answers.length; i++) {\n                var answerDiv = this.answers[i].generateDiv();\n                this.getArenaElement().appendChild(answerDiv);\n            }\n        }\n    }, {\n        key: 'removeAnswers',\n        value: function removeAnswers() {\n            for (var i = 0; i < this.answers.length; i++) {\n                var answerDiv = this.answers[i].getDiv();\n                answerDiv.parentNode.removeChild(answerDiv);\n            }\n        }\n    }, {\n        key: 'addKeyPressListener',\n        value: function addKeyPressListener() {\n            var _this = this;\n\n            window.onkeydown = function (key) {\n                switch (key.key) {\n                    case 'ArrowUp':\n                        _this.snake.setDirection(_Constants2.default.DIRECTION_UP);\n                        break;\n                    case 'ArrowRight':\n                        _this.snake.setDirection(_Constants2.default.DIRECTION_RIGHT);\n                        break;\n                    case 'ArrowDown':\n                        _this.snake.setDirection(_Constants2.default.DIRECTION_DOWN);\n                        break;\n                    case 'ArrowLeft':\n                        _this.snake.setDirection(_Constants2.default.DIRECTION_LEFT);\n                        break;\n                }\n            };\n        }\n    }, {\n        key: 'doIteration',\n        value: function doIteration() {\n            this.snake.move();\n\n            if (this.snake.isCollision()) {\n                this.end();\n            }\n\n            var answerHit = this.checkIfSnakeHasHitAnswer();\n\n            if (answerHit) {\n                if (answerHit.value == this.getEquation().getCorrectAnswer()) {\n                    console.log('Epic win!');\n                    this.setSpeed(this.getSpeed() - 10);\n                    this.stopIteration();\n                    this.startIteration();\n                } else {\n                    console.log('Epic lose!');\n                }\n\n                this.generateAndShowEquation();\n                this.removeAnswers();\n                this.generateAnswers();\n                this.showAnswers();\n            }\n        }\n    }, {\n        key: 'checkIfSnakeHasHitAnswer',\n        value: function checkIfSnakeHasHitAnswer() {\n            for (var i = 0; i < this.answers.length; i++) {\n                if (this.snake.checkIfHitDiv(this.answers[i].getDiv())) {\n                    return this.answers[i];\n                }\n            }\n        }\n    }, {\n        key: 'startIteration',\n        value: function startIteration() {\n            var _this2 = this;\n\n            var intervalId = setInterval(function () {\n                _this2.doIteration();\n            }, this.getSpeed());\n\n            this.setIntervalId(intervalId);\n        }\n    }, {\n        key: 'stopIteration',\n        value: function stopIteration() {\n            clearInterval(this.getIntervalId());\n        }\n    }, {\n        key: 'end',\n        value: function end() {\n            this.stopIteration();\n        }\n    }, {\n        key: 'setSpeed',\n        value: function setSpeed(speed) {\n            this.speed = speed;\n        }\n    }, {\n        key: 'getSpeed',\n        value: function getSpeed() {\n            return this.speed;\n        }\n    }, {\n        key: 'setIntervalId',\n        value: function setIntervalId(intervalId) {\n            this.intervalId = intervalId;\n        }\n    }, {\n        key: 'getIntervalId',\n        value: function getIntervalId() {\n            return this.intervalId;\n        }\n    }, {\n        key: 'setEquation',\n        value: function setEquation(equation) {\n            this.equation = equation;\n        }\n    }, {\n        key: 'getEquation',\n        value: function getEquation() {\n            return this.equation;\n        }\n    }, {\n        key: 'setArenaElement',\n        value: function setArenaElement(arenaElement) {\n            this.arenaElement = arenaElement;\n        }\n    }, {\n        key: 'getArenaElement',\n        value: function getArenaElement() {\n            return this.arenaElement;\n        }\n    }]);\n\n    return SnakeGame;\n}();\n\nexports.default = SnakeGame;\n\n},{\"./Answer\":1,\"./Constants\":2,\"./Equation\":3,\"./Snake\":7}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Constants = require('./Constants');\n\nvar _Constants2 = _interopRequireDefault(_Constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SnakePart = function () {\n    function SnakePart(xPosition, yPosition) {\n        _classCallCheck(this, SnakePart);\n\n        this.setXPosition(xPosition);\n        this.setYPosition(yPosition);\n    }\n\n    _createClass(SnakePart, [{\n        key: 'generateDiv',\n        value: function generateDiv(snakePartId) {\n            var snakePart = document.createElement('div');\n            this.setDiv(snakePart);\n\n            snakePart.className = 'snake-part';\n            snakePart.style.width = this.getSize();\n            snakePart.style.height = this.getSize();\n\n            this.updatePosition();\n\n            return snakePart;\n        }\n    }, {\n        key: 'moveTo',\n        value: function moveTo(snakePart) {\n            this.setXPosition(snakePart.getXPosition());\n            this.setYPosition(snakePart.getYPosition());\n\n            this.updatePosition();\n        }\n    }, {\n        key: 'move',\n        value: function move(direction) {\n            switch (direction) {\n                case _Constants2.default.DIRECTION_RIGHT:\n                    this.setXPosition(this.getXPosition() + 1);\n                    break;\n                case _Constants2.default.DIRECTION_DOWN:\n                    this.setYPosition(this.getYPosition() + 1);\n                    break;\n                case _Constants2.default.DIRECTION_LEFT:\n                    this.setXPosition(this.getXPosition() - 1);\n                    break;\n                case _Constants2.default.DIRECTION_UP:\n                    this.setYPosition(this.getYPosition() - 1);\n                    break;\n                default:\n                    console.log('Invalid direction');\n                    break;\n            }\n\n            this.updatePosition();\n        }\n    }, {\n        key: 'updatePosition',\n        value: function updatePosition() {\n            var div = this.getDiv();\n            div.style.top = this.getYPixelPosition();\n            div.style.left = this.getXPixelPosition();\n        }\n    }, {\n        key: 'setXPosition',\n        value: function setXPosition(xPosition) {\n            this.xPosition = xPosition;\n        }\n    }, {\n        key: 'getXPosition',\n        value: function getXPosition() {\n            return this.xPosition;\n        }\n    }, {\n        key: 'setYPosition',\n        value: function setYPosition(yPosition) {\n            this.yPosition = yPosition;\n        }\n    }, {\n        key: 'getYPosition',\n        value: function getYPosition() {\n            return this.yPosition;\n        }\n    }, {\n        key: 'getXPixelPosition',\n        value: function getXPixelPosition() {\n            return this.getXPosition() * this.getSize();\n        }\n    }, {\n        key: 'getYPixelPosition',\n        value: function getYPixelPosition() {\n            return this.getYPosition() * this.getSize();\n        }\n    }, {\n        key: 'setSize',\n        value: function setSize(size) {\n            this.size = size;\n        }\n    }, {\n        key: 'getSize',\n        value: function getSize() {\n            return this.size;\n        }\n    }, {\n        key: 'setDiv',\n        value: function setDiv(div) {\n            this.div = div;\n        }\n    }, {\n        key: 'getDiv',\n        value: function getDiv() {\n            return this.div;\n        }\n    }]);\n\n    return SnakePart;\n}();\n\nexports.default = SnakePart;\n\n},{\"./Constants\":2}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _SnakePart = require('./Snake-part');\n\nvar _SnakePart2 = _interopRequireDefault(_SnakePart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Snake = function () {\n    function Snake(snakeLength) {\n        _classCallCheck(this, Snake);\n\n        this.setLength(snakeLength);\n        this.setDirection(this.DIRECTION_RIGHT);\n    }\n\n    _createClass(Snake, [{\n        key: 'initialize',\n        value: function initialize(startXPosition, startYPosition) {\n            this.generateParts(startXPosition, startYPosition);\n        }\n    }, {\n        key: 'generateParts',\n        value: function generateParts(startXPosition, startYPosition) {\n            this.snakeParts = [];\n\n            for (var i = 0; i < this.getLength(); i++) {\n                var snakePart = new _SnakePart2.default(startXPosition + i, startYPosition);\n                snakePart.setSize(this.getPartSize());\n\n                this.snakeParts.push(snakePart);\n            }\n        }\n    }, {\n        key: 'draw',\n        value: function draw() {\n            for (var i = 0; i < this.snakeParts.length; i++) {\n                var snakePart = this.snakeParts[i].generateDiv(i);\n                this.getArenaElement().appendChild(snakePart);\n            }\n        }\n    }, {\n        key: 'move',\n        value: function move() {\n            for (var i = 0; i < this.snakeParts.length - 1; i++) {\n                this.snakeParts[i].moveTo(this.snakeParts[i + 1]);\n            }\n\n            this.snakeParts[this.snakeParts.length - 1].move(this.getDirection());\n        }\n    }, {\n        key: 'isCollision',\n        value: function isCollision() {\n            if (this.isCollisionWithSnake()) {\n                return true;\n            }\n\n            return this.isCollisionWithWall();\n        }\n    }, {\n        key: 'isCollisionWithSnake',\n        value: function isCollisionWithSnake() {\n            var firstSnakePart = this.getFirstSnakePart();\n\n            for (var i = 0; i < this.snakeParts.length - 1; i++) {\n                if (firstSnakePart.getXPosition() == this.snakeParts[i].getXPosition() && firstSnakePart.getYPosition() == this.snakeParts[i].getYPosition()) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }, {\n        key: 'isCollisionWithWall',\n        value: function isCollisionWithWall() {\n            var firstSnakePart = this.getFirstSnakePart();\n            if (firstSnakePart.getXPixelPosition() < firstSnakePart.getSize()) {\n                return true;\n            }\n\n            if (firstSnakePart.getYPixelPosition() < firstSnakePart.getSize()) {\n                return true;\n            }\n\n            if (firstSnakePart.getYPixelPosition() >= this.getArenaElement().clientHeight) {\n                return true;\n            }\n\n            if (firstSnakePart.getXPixelPosition() >= this.getArenaElement().clientWidth) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'checkIfHitDiv',\n        value: function checkIfHitDiv(div) {\n            var firstSnakePart = this.getFirstSnakePart();\n            var firstSnakePartDiv = firstSnakePart.getDiv();\n\n            var x1 = firstSnakePartDiv.offsetLeft;\n            var y1 = firstSnakePartDiv.offsetTop;\n            var h1 = firstSnakePartDiv.clientHeight;\n            var w1 = firstSnakePartDiv.clientWidth;\n            var b1 = y1 + h1;\n            var r1 = x1 + w1;\n            var x2 = div.offsetLeft;\n            var y2 = div.offsetTop;\n            var h2 = div.clientHeight;\n            var w2 = div.clientHeight;\n            var b2 = y2 + h2;\n            var r2 = x2 + w2;\n\n            if (b1 < y2 || y1 > b2 || r1 < x2 || x1 > r2) {\n                return false;\n            }\n\n            return true;\n        }\n    }, {\n        key: 'getFirstSnakePart',\n        value: function getFirstSnakePart() {\n            return this.snakeParts[this.snakeParts.length - 1];\n        }\n    }, {\n        key: 'setLength',\n        value: function setLength(length) {\n            this.length = length;\n        }\n    }, {\n        key: 'getLength',\n        value: function getLength() {\n            return this.length;\n        }\n    }, {\n        key: 'setArenaElement',\n        value: function setArenaElement(arenaElement) {\n            this.arenaElement = arenaElement;\n        }\n    }, {\n        key: 'getArenaElement',\n        value: function getArenaElement() {\n            return this.arenaElement;\n        }\n    }, {\n        key: 'setPartSize',\n        value: function setPartSize(partSize) {\n            this.partSize = partSize;\n        }\n    }, {\n        key: 'getPartSize',\n        value: function getPartSize() {\n            return this.partSize;\n        }\n    }, {\n        key: 'setDirection',\n        value: function setDirection(direction) {\n            this.direction = direction;\n        }\n    }, {\n        key: 'getDirection',\n        value: function getDirection() {\n            return this.direction;\n        }\n    }]);\n\n    return Snake;\n}();\n\nexports.default = Snake;\n\n},{\"./Snake-part\":6}],8:[function(require,module,exports){\n'use strict';\n\nvar _SnakeGame = require('./Snake-game');\n\nvar _SnakeGame2 = _interopRequireDefault(_SnakeGame);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.onload = function () {\n\n    var snakeGame = new _SnakeGame2.default(document.getElementById('arena'), 100);\n    snakeGame.setSpeed(100);\n    snakeGame.start();\n};\n\n},{\"./Snake-game\":5}]},{},[8])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvQW5zd2VyLmpzIiwic3JjL2pzL0NvbnN0YW50cy5qcyIsInNyYy9qcy9FcXVhdGlvbi5qcyIsInNyYy9qcy9IZWxwZXJzLmpzIiwic3JjL2pzL1NuYWtlLWdhbWUuanMiLCJzcmMvanMvU25ha2UtcGFydC5qcyIsInNyYy9qcy9TbmFrZS5qcyIsInNyYy9qcy9hcHAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztBQ0FBOzs7Ozs7OztJQUdxQixNO0FBRWpCLG9CQUFZLEtBQVosRUFBbUI7QUFBQTs7QUFDZixhQUFLLFFBQUwsQ0FBYyxLQUFkO0FBQ0g7Ozs7c0NBRWE7O0FBRVYsZ0JBQUksTUFBTSxTQUFTLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBVjs7QUFFQSxnQkFBSSxTQUFKLEdBQWdCLFFBQWhCO0FBQ0EsZ0JBQUksS0FBSixDQUFVLEdBQVYsR0FBZ0IsS0FBSyxZQUFMLEVBQWhCO0FBQ0EsZ0JBQUksS0FBSixDQUFVLElBQVYsR0FBaUIsS0FBSyxZQUFMLEVBQWpCOztBQUVBLGdCQUFJLFNBQUosR0FBZ0IsS0FBSyxRQUFMLEVBQWhCOztBQUVBLGlCQUFLLE1BQUwsQ0FBWSxHQUFaOztBQUVBLG1CQUFPLEdBQVA7QUFDSDs7OzBDQUVpQixJLEVBQU0sSSxFQUFNO0FBQzFCLGlCQUFLLFlBQUwsQ0FBa0Isa0JBQVEsZ0JBQVIsQ0FBeUIsQ0FBekIsRUFBNEIsSUFBNUIsQ0FBbEI7QUFDQSxpQkFBSyxZQUFMLENBQWtCLGtCQUFRLGdCQUFSLENBQXlCLENBQXpCLEVBQTRCLElBQTVCLENBQWxCO0FBQ0g7OztpQ0FFUSxLLEVBQU87QUFDWixpQkFBSyxLQUFMLEdBQWEsS0FBYjtBQUNIOzs7bUNBRVU7QUFDUCxtQkFBTyxLQUFLLEtBQVo7QUFDSDs7O3FDQUVZLFMsRUFBVztBQUNwQixpQkFBSyxTQUFM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SyxVQUFMLENBQWdCLE1BQWhCLEdBQXlCLENBQXpDLENBQVA7QUFFSDs7O2tDQUVTLE0sRUFBUTtBQUNkLGlCQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0g7OztvQ0FFVztBQUNSLG1CQUFPLEtBQUssTUFBWjtBQUNIOzs7d0NBRWUsWSxFQUFjO0FBQzFCLGlCQUFLLFlBQUwsR0FBb0IsWUFBcEI7QUFDSDs7OzBDQUVpQjtBQUNkLG1CQUFPLEtBQUssWUFBWjtBQUNIOzs7b0NBRVcsUSxFQUFVO0FBQ2xCLGlCQUFLLFFBQUwsR0FBZ0IsUUFBaEI7QUFDSDs7O3NDQUVhO0FBQ1YsbUJBQU8sS0FBSyxRQUFaO0FBQ0g7OztxQ0FFWSxTLEVBQVc7QUFDcEIsaUJBQUssU0FBTCxHQUFpQixTQUFqQjtBQUNIOzs7dUNBRWM7QUFDWCxtQkFBTyxLQUFLLFNBQVo7QUFDSDs7Ozs7O2tCQXRKZ0IsSzs7Ozs7QUNGckI7Ozs7OztBQUVBLE9BQU8sTUFBUCxHQUFnQixZQUFXOztBQUV2QixRQUFJLFlBQVksd0JBQWMsU0FBUyxjQUFULENBQXdCLE9BQXhCLENBQWQsRUFBZ0QsR0FBaEQsQ0FBaEI7QUFDQSxjQUFVLFFBQVYsQ0FBbUIsR0FBbkI7QUFDQSxjQUFVLEtBQVY7QUFDSCxDQUxEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBIZWxwZXJzIGZyb20gJy4vSGVscGVycydcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbnN3ZXIge1xuXG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVEaXYoKSB7XG5cbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnYW5zd2VyJztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHRoaXMuZ2V0WVBvc2l0aW9uKCk7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRYUG9zaXRpb24oKTtcblxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRWYWx1ZSgpO1xuXG4gICAgICAgIHRoaXMuc2V0RGl2KGRpdik7XG5cbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG5cbiAgICBzZXRSYW5kb21Qb3NpdGlvbihtYXhYLCBtYXhZKSB7XG4gICAgICAgIHRoaXMuc2V0WFBvc2l0aW9uKEhlbHBlcnMuZ2V0UmFuZG9tSW50ZWdlcigwLCBtYXhYKSk7XG4gICAgICAgIHRoaXMuc2V0WVBvc2l0aW9uKEhlbHBlcnMuZ2V0UmFuZG9tSW50ZWdlcigwLCBtYXhZKSk7XG4gICAgfVxuXG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBzZXRYUG9zaXRpb24oeFBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMueFBvc2l0aW9uID0geFBvc2l0aW9uO1xuICAgIH1cblxuICAgIGdldFhQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueFBvc2l0aW9uO1xuICAgIH1cblxuICAgIHNldFlQb3NpdGlvbih5UG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy55UG9zaXRpb24gPSB5UG9zaXRpb247XG4gICAgfVxuXG4gICAgZ2V0WVBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55UG9zaXRpb247XG4gICAgfVxuXG4gICAgc2V0RGl2KGRpdikge1xuICAgICAgICB0aGlzLmRpdiA9IGRpdjtcbiAgICB9XG5cbiAgICBnZXREaXYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdjtcbiAgICB9XG5cblxuXG59XG5cblxuIiwidmFyIERJUkVDVElPTl9VUCA9IDA7XG52YXIgRElSRUNUSU9OX1JJR0hUID0gMTtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDI7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBESVJFQ1RJT05fVVA6IERJUkVDVElPTl9VUCxcbiAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCxcbiAgICBESVJFQ1RJT05fRE9XTjogRElSRUNUSU9OX0RPV04sXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZUXG59XG5cbiIsImltcG9ydCBIZWxwZXJzIGZyb20gJy4vSGVscGVycydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXF1YXRpb24ge1xuXG5cbiAgICBjb25zdHJ1Y3RvcihtaW4gPSAwLCBtYXggPSAxMCkge1xuXG5cbiAgICAgICAgdGhpcy5zZXRMZWZ0TnVtYmVyKEhlbHBlcnMuZ2V0UmFuZG9tSW50ZWdlcihtaW4sIG1heCkpO1xuICAgICAgICB0aGlzLnNldFJpZ2h0TnVtYmVyKEhlbHBlcnMuZ2V0UmFuZG9tSW50ZWdlcihtaW4sIG1heCkpO1xuICAgICAgICB0aGlzLnNldE9wZXJhdG9yKCcrJyk7XG5cbiAgICAgICAgdGhpcy5zZXRNaW4obWluKTtcbiAgICAgICAgdGhpcy5zZXRNYXgobWF4KTtcblxuICAgIH1cblxuICAgIGdldFN0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGVmdE51bWJlcigpICsgJyAnICsgdGhpcy5nZXRPcGVyYXRvcigpICsgJyAnICsgdGhpcy5nZXRSaWdodE51bWJlcigpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlQW5zd2VycyhudW1iZXJPZkFuc3dlcnMgPSA1KSB7XG5cbiAgICAgICAgdmFyIGFuc3dlcnMgPSBbXTtcbiAgICAgICAgYW5zd2Vycy5wdXNoKHRoaXMuZ2V0Q29ycmVjdEFuc3dlcigpKTtcblxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZBbnN3ZXJzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcmFuZG9tT3RoZXJFcXVhdGlvbiA9IG5ldyBFcXVhdGlvbih0aGlzLmdldE1pbigpLCB0aGlzLmdldE1heCgpKTtcbiAgICAgICAgICAgIGFuc3dlcnMucHVzaChyYW5kb21PdGhlckVxdWF0aW9uLmdldENvcnJlY3RBbnN3ZXIoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBIZWxwZXJzLnNodWZmbGVBcnJheShhbnN3ZXJzKTtcblxuICAgICAgICByZXR1cm4gYW5zd2VycztcblxuICAgIH1cblxuICAgIGdldENvcnJlY3RBbnN3ZXIoKSB7XG4gICAgICAgIHZhciBlcXVhdGlvblN0cmluZyA9IHRoaXMuZ2V0U3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBldmFsKGVxdWF0aW9uU3RyaW5nKTtcblxuICAgIH1cblxuICAgIHNldExlZnROdW1iZXIobGVmdE51bWJlcikge1xuICAgICAgICB0aGlzLmxlZnROdW1iZXIgPSBsZWZ0TnVtYmVyO1xuICAgIH1cblxuICAgIGdldExlZnROdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnROdW1iZXI7XG4gICAgfVxuXG4gICAgc2V0UmlnaHROdW1iZXIocmlnaHROdW1iZXIpIHtcbiAgICAgICAgdGhpcy5yaWdodE51bWJlciA9IHJpZ2h0TnVtYmVyO1xuICAgIH1cblxuICAgIGdldFJpZ2h0TnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yaWdodE51bWJlcjtcbiAgICB9XG5cbiAgICBzZXRPcGVyYXRvcihvcGVyYXRvcikge1xuICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgfVxuXG4gICAgZ2V0T3BlcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZXJhdG9yO1xuICAgIH1cblxuICAgIHNldE1pbihtaW4pIHtcbiAgICAgICAgdGhpcy5taW4gPSBtaW47XG4gICAgfVxuXG4gICAgZ2V0TWluKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW47XG4gICAgfVxuXG4gICAgc2V0TWF4KG1heCkge1xuICAgICAgICB0aGlzLm1heCA9IG1heDtcbiAgICB9XG5cbiAgICBnZXRNYXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heDtcbiAgICB9XG5cbn1cblxuXG4iLCJ2YXIgZ2V0UmFuZG9tSW50ZWdlciA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XG59XG5cbnZhciBzaHVmZmxlQXJyYXkgPSBmdW5jdGlvbihhKSB7XG4gICAgZm9yIChsZXQgaSA9IGEubGVuZ3RoOyBpOyBpLS0pIHtcbiAgICAgICAgbGV0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBpKTtcbiAgICAgICAgW2FbaSAtIDFdLCBhW2pdXSA9IFthW2pdLCBhW2kgLSAxXV07XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBnZXRSYW5kb21JbnRlZ2VyOiBnZXRSYW5kb21JbnRlZ2VyLFxuICAgIHNodWZmbGVBcnJheTogc2h1ZmZsZUFycmF5XG59XG5cblxuIiwiaW1wb3J0IFNuYWtlIGZyb20gJy4vU25ha2UnXG5pbXBvcnQgRXF1YXRpb24gZnJvbSAnLi9FcXVhdGlvbidcbmltcG9ydCBBbnN3ZXIgZnJvbSAnLi9BbnN3ZXInXG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJy4vQ29uc3RhbnRzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbmFrZUdhbWUge1xuICAgIGNvbnN0cnVjdG9yKGFyZW5hRWxlbWVudCwgc25ha2VMZW5ndGggPSAxMCkge1xuXG4gICAgICAgIHRoaXMuc2V0QXJlbmFFbGVtZW50KGFyZW5hRWxlbWVudCk7XG4gICAgICAgIHRoaXMuc25ha2UgPSBuZXcgU25ha2Uoc25ha2VMZW5ndGgpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zbmFrZS5zZXRBcmVuYUVsZW1lbnQoYXJlbmFFbGVtZW50KTtcbiAgICAgICAgdGhpcy5zbmFrZS5zZXRQYXJ0U2l6ZSg1KTtcbiAgICAgICAgdGhpcy5zZXRTcGVlZCgxMDApO1xuICAgICAgICB0aGlzLnNuYWtlLnNldERpcmVjdGlvbihDb25zdGFudHMuRElSRUNUSU9OX1JJR0hUKTtcbiAgICAgICAgdGhpcy5zbmFrZS5pbml0aWFsaXplKDUsIDUpO1xuICAgICAgICB0aGlzLmFuc3dlcnMgPSBbXTtcblxuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNuYWtlLmRyYXcoKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUFuZFNob3dFcXVhdGlvbigpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlQW5zd2VycygpO1xuICAgICAgICB0aGlzLnNob3dBbnN3ZXJzKCk7XG4gICAgICAgIHRoaXMuYWRkS2V5UHJlc3NMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLnN0YXJ0SXRlcmF0aW9uKCk7XG5cblxuICAgIH1cblxuICAgIGdlbmVyYXRlQW5kU2hvd0VxdWF0aW9uKCkge1xuICAgICAgICB2YXIgZXF1YXRpb24gPSBuZXcgRXF1YXRpb24oMTAwLCAxMDAwKVxuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcXVhdGlvbicpLmlubmVySFRNTCA9IGVxdWF0aW9uLmdldFN0cmluZygpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zZXRFcXVhdGlvbihlcXVhdGlvbik7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVBbnN3ZXJzKG51bWJlck9mQW5zd2VycyA9IDUpIHtcbiAgICAgICAgdmFyIGVxdWF0aW9uID0gdGhpcy5nZXRFcXVhdGlvbigpO1xuICAgICAgICB2YXIgYW5zd2VycyA9IGVxdWF0aW9uLmdlbmVyYXRlQW5zd2VycyhudW1iZXJPZkFuc3dlcnMpO1xuXG4gICAgICAgIHZhciBhcmVuYSA9IHRoaXMuZ2V0QXJlbmFFbGVtZW50KCk7XG5cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFuc3dlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYW5zd2Vyc1tpXSA9IG5ldyBBbnN3ZXIoYW5zd2Vyc1tpXSk7XG4gICAgICAgICAgICB0aGlzLmFuc3dlcnNbaV0uc2V0UmFuZG9tUG9zaXRpb24oYXJlbmEuY2xpZW50V2lkdGggLSA1MCwgYXJlbmEuY2xpZW50SGVpZ2h0IC0gNTApO1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHNob3dBbnN3ZXJzKCkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hbnN3ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYW5zd2VyRGl2ID0gdGhpcy5hbnN3ZXJzW2ldLmdlbmVyYXRlRGl2KCk7XG4gICAgICAgICAgICB0aGlzLmdldEFyZW5hRWxlbWVudCgpLmFwcGVuZENoaWxkKGFuc3dlckRpdik7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJlbW92ZUFuc3dlcnMoKSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmFuc3dlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhbnN3ZXJEaXYgPSB0aGlzLmFuc3dlcnNbaV0uZ2V0RGl2KCk7XG4gICAgICAgICAgICBhbnN3ZXJEaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhbnN3ZXJEaXYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkS2V5UHJlc3NMaXN0ZW5lcigpIHtcbiAgICAgICAgd2luZG93Lm9ua2V5ZG93biA9IChrZXkpID0+IHsgXG4gICAgICAgICAgICBzd2l0Y2goa2V5LmtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWtlLnNldERpcmVjdGlvbihDb25zdGFudHMuRElSRUNUSU9OX1VQKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc25ha2Uuc2V0RGlyZWN0aW9uKENvbnN0YW50cy5ESVJFQ1RJT05fUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWtlLnNldERpcmVjdGlvbihDb25zdGFudHMuRElSRUNUSU9OX0RPV04pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWtlLnNldERpcmVjdGlvbihDb25zdGFudHMuRElSRUNUSU9OX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZG9JdGVyYXRpb24oKSB7XG4gICAgICAgIHRoaXMuc25ha2UubW92ZSgpO1xuXG4gICAgICAgIGlmKHRoaXMuc25ha2UuaXNDb2xsaXNpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5lbmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhbnN3ZXJIaXQgPSB0aGlzLmNoZWNrSWZTbmFrZUhhc0hpdEFuc3dlcigpO1xuICAgICAgICBcbiAgICAgICAgaWYoYW5zd2VySGl0KSB7XG4gICAgICAgICAgICBpZihhbnN3ZXJIaXQudmFsdWUgPT0gdGhpcy5nZXRFcXVhdGlvbigpLmdldENvcnJlY3RBbnN3ZXIoKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcGljIHdpbiEnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNwZWVkKHRoaXMuZ2V0U3BlZWQoKSAtIDEwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BJdGVyYXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0SXRlcmF0aW9uKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcGljIGxvc2UhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVBbmRTaG93RXF1YXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQW5zd2VycygpO1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUFuc3dlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0Fuc3dlcnMoKTtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjaGVja0lmU25ha2VIYXNIaXRBbnN3ZXIoKSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmFuc3dlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHRoaXMuc25ha2UuY2hlY2tJZkhpdERpdih0aGlzLmFuc3dlcnNbaV0uZ2V0RGl2KCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW5zd2Vyc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0SXRlcmF0aW9uKCkge1xuICAgICAgICB2YXIgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHsgXG4gICAgICAgICAgICB0aGlzLmRvSXRlcmF0aW9uKCk7XG5cbiAgICAgICAgfSwgdGhpcy5nZXRTcGVlZCgpKTtcblxuICAgICAgICB0aGlzLnNldEludGVydmFsSWQoaW50ZXJ2YWxJZCk7XG5cbiAgICB9XG5cbiAgICBzdG9wSXRlcmF0aW9uKCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZ2V0SW50ZXJ2YWxJZCgpKTtcblxuICAgIH1cblxuICAgIGVuZCgpIHtcbiAgICAgICAgdGhpcy5zdG9wSXRlcmF0aW9uKCk7XG4gICAgfVxuXG4gICAgc2V0U3BlZWQoc3BlZWQpIHtcbiAgICAgICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgIH1cblxuICAgIGdldFNwZWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVlZDtcbiAgICB9XG5cbiAgICBzZXRJbnRlcnZhbElkKGludGVydmFsSWQpIHtcbiAgICAgICAgdGhpcy5pbnRlcnZhbElkID0gaW50ZXJ2YWxJZDtcbiAgICB9XG5cbiAgICBnZXRJbnRlcnZhbElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbElkO1xuICAgIH1cblxuICAgIHNldEVxdWF0aW9uKGVxdWF0aW9uKSB7XG4gICAgICAgIHRoaXMuZXF1YXRpb24gPSBlcXVhdGlvbjtcbiAgICB9XG5cbiAgICBnZXRFcXVhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXF1YXRpb247XG4gICAgfVxuXG4gICAgc2V0QXJlbmFFbGVtZW50KGFyZW5hRWxlbWVudCkge1xuICAgICAgICB0aGlzLmFyZW5hRWxlbWVudCA9IGFyZW5hRWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXRBcmVuYUVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyZW5hRWxlbWVudDtcbiAgICB9XG5cblxufSIsImltcG9ydCBDb25zdGFudHMgZnJvbSAnLi9Db25zdGFudHMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlUGFydCB7XG4gICAgY29uc3RydWN0b3IoeFBvc2l0aW9uLCB5UG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5zZXRYUG9zaXRpb24oeFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5zZXRZUG9zaXRpb24oeVBvc2l0aW9uKTtcblxuICAgIH1cblxuICAgIGdlbmVyYXRlRGl2KHNuYWtlUGFydElkKSB7XG4gICAgICAgIHZhciBzbmFrZVBhcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5zZXREaXYoc25ha2VQYXJ0KTtcblxuICAgICAgICBzbmFrZVBhcnQuY2xhc3NOYW1lID0gJ3NuYWtlLXBhcnQnO1xuICAgICAgICBzbmFrZVBhcnQuc3R5bGUud2lkdGggPSB0aGlzLmdldFNpemUoKTtcbiAgICAgICAgc25ha2VQYXJ0LnN0eWxlLmhlaWdodCA9IHRoaXMuZ2V0U2l6ZSgpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcblxuICAgICAgICByZXR1cm4gc25ha2VQYXJ0O1xuICAgIH1cblxuICAgIG1vdmVUbyhzbmFrZVBhcnQpIHtcbiAgICAgICAgdGhpcy5zZXRYUG9zaXRpb24oc25ha2VQYXJ0LmdldFhQb3NpdGlvbigpKTtcbiAgICAgICAgdGhpcy5zZXRZUG9zaXRpb24oc25ha2VQYXJ0LmdldFlQb3NpdGlvbigpKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfVxuXG4gICAgbW92ZShkaXJlY3Rpb24pIHtcbiAgICAgICAgc3dpdGNoKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHMuRElSRUNUSU9OX1JJR0hUOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0WFBvc2l0aW9uKHRoaXMuZ2V0WFBvc2l0aW9uKCkgKyAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLkRJUkVDVElPTl9ET1dOOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0WVBvc2l0aW9uKHRoaXMuZ2V0WVBvc2l0aW9uKCkgKyAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLkRJUkVDVElPTl9MRUZUOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0WFBvc2l0aW9uKHRoaXMuZ2V0WFBvc2l0aW9uKCkgLSAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLkRJUkVDVElPTl9VUDpcbiAgICAgICAgICAgICAgICB0aGlzLnNldFlQb3NpdGlvbih0aGlzLmdldFlQb3NpdGlvbigpIC0gMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIGRpcmVjdGlvbicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBvc2l0aW9uKCkge1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy5nZXREaXYoKTtcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHRoaXMuZ2V0WVBpeGVsUG9zaXRpb24oKTtcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSB0aGlzLmdldFhQaXhlbFBvc2l0aW9uKCk7XG4gICAgfVxuXG4gICAgc2V0WFBvc2l0aW9uKHhQb3NpdGlvbikge1xuICAgICAgICB0aGlzLnhQb3NpdGlvbiA9IHhQb3NpdGlvbjtcbiAgICB9XG5cbiAgICBnZXRYUG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnhQb3NpdGlvbjtcbiAgICB9XG5cbiAgICBzZXRZUG9zaXRpb24oeVBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMueVBvc2l0aW9uID0geVBvc2l0aW9uO1xuICAgIH1cblxuICAgIGdldFlQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueVBvc2l0aW9uO1xuICAgIH1cblxuICAgIGdldFhQaXhlbFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRYUG9zaXRpb24oKSAqIHRoaXMuZ2V0U2l6ZSgpO1xuICAgIH1cblxuICAgIGdldFlQaXhlbFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRZUG9zaXRpb24oKSAqIHRoaXMuZ2V0U2l6ZSgpO1xuICAgIH1cblxuXG4gICAgc2V0U2l6ZShzaXplKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgfVxuXG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICB9XG5cbiAgICBzZXREaXYoZGl2KSB7XG4gICAgICAgIHRoaXMuZGl2ID0gZGl2O1xuICAgIH1cblxuICAgIGdldERpdigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2O1xuICAgIH1cblxufVxuXG5cbiIsImltcG9ydCBTbmFrZVBhcnQgZnJvbSAnLi9TbmFrZS1wYXJ0J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbmFrZSB7XG5cblxuICAgIGNvbnN0cnVjdG9yKHNuYWtlTGVuZ3RoKSB7XG5cbiAgICAgICAgdGhpcy5zZXRMZW5ndGgoc25ha2VMZW5ndGgpO1xuICAgICAgICB0aGlzLnNldERpcmVjdGlvbih0aGlzLkRJUkVDVElPTl9SSUdIVCk7XG5cbiAgICB9XG5cbiAgICBpbml0aWFsaXplKHN0YXJ0WFBvc2l0aW9uLCBzdGFydFlQb3NpdGlvbikge1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFydHMoc3RhcnRYUG9zaXRpb24sIHN0YXJ0WVBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVBhcnRzKHN0YXJ0WFBvc2l0aW9uLCBzdGFydFlQb3NpdGlvbikge1xuICAgICAgICB0aGlzLnNuYWtlUGFydHMgPSBbXTtcblxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5nZXRMZW5ndGgoKTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc25ha2VQYXJ0ID0gbmV3IFNuYWtlUGFydChzdGFydFhQb3NpdGlvbiArIGksIHN0YXJ0WVBvc2l0aW9uKTtcbiAgICAgICAgICAgIHNuYWtlUGFydC5zZXRTaXplKHRoaXMuZ2V0UGFydFNpemUoKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuc25ha2VQYXJ0cy5wdXNoKHNuYWtlUGFydCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGRyYXcoKSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnNuYWtlUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzbmFrZVBhcnQgPSB0aGlzLnNuYWtlUGFydHNbaV0uZ2VuZXJhdGVEaXYoaSk7XG4gICAgICAgICAgICB0aGlzLmdldEFyZW5hRWxlbWVudCgpLmFwcGVuZENoaWxkKHNuYWtlUGFydCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlKCkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zbmFrZVBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zbmFrZVBhcnRzW2ldLm1vdmVUbyh0aGlzLnNuYWtlUGFydHNbaSArIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc25ha2VQYXJ0c1t0aGlzLnNuYWtlUGFydHMubGVuZ3RoIC0gMV0ubW92ZSh0aGlzLmdldERpcmVjdGlvbigpKTtcblxuXG4gICAgfVxuXG4gICAgaXNDb2xsaXNpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuaXNDb2xsaXNpb25XaXRoU25ha2UoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5pc0NvbGxpc2lvbldpdGhXYWxsKCk7XG4gICAgfVxuXG4gICAgaXNDb2xsaXNpb25XaXRoU25ha2UoKSB7XG4gICAgICAgIHZhciBmaXJzdFNuYWtlUGFydCA9IHRoaXMuZ2V0Rmlyc3RTbmFrZVBhcnQoKTtcblxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zbmFrZVBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgaWYoZmlyc3RTbmFrZVBhcnQuZ2V0WFBvc2l0aW9uKCkgPT0gdGhpcy5zbmFrZVBhcnRzW2ldLmdldFhQb3NpdGlvbigpICYmXG4gICAgICAgICAgICAgICBmaXJzdFNuYWtlUGFydC5nZXRZUG9zaXRpb24oKSA9PSB0aGlzLnNuYWtlUGFydHNbaV0uZ2V0WVBvc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB9XG5cbiAgICBpc0NvbGxpc2lvbldpdGhXYWxsKCkge1xuICAgICAgICB2YXIgZmlyc3RTbmFrZVBhcnQgPSB0aGlzLmdldEZpcnN0U25ha2VQYXJ0KCk7XG4gICAgICAgIGlmKGZpcnN0U25ha2VQYXJ0LmdldFhQaXhlbFBvc2l0aW9uKCkgPCBmaXJzdFNuYWtlUGFydC5nZXRTaXplKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoZmlyc3RTbmFrZVBhcnQuZ2V0WVBpeGVsUG9zaXRpb24oKSA8IGZpcnN0U25ha2VQYXJ0LmdldFNpemUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZihmaXJzdFNuYWtlUGFydC5nZXRZUGl4ZWxQb3NpdGlvbigpID49IHRoaXMuZ2V0QXJlbmFFbGVtZW50KCkuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGZpcnN0U25ha2VQYXJ0LmdldFhQaXhlbFBvc2l0aW9uKCkgPj0gdGhpcy5nZXRBcmVuYUVsZW1lbnQoKS5jbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gIFxuXG4gICAgfVxuXG5cbiAgICBjaGVja0lmSGl0RGl2KGRpdikge1xuICAgICAgICB2YXIgZmlyc3RTbmFrZVBhcnQgPSB0aGlzLmdldEZpcnN0U25ha2VQYXJ0KCk7XG4gICAgICAgIHZhciBmaXJzdFNuYWtlUGFydERpdiA9IGZpcnN0U25ha2VQYXJ0LmdldERpdigpO1xuXG5cbiAgICAgICAgdmFyIHgxID0gZmlyc3RTbmFrZVBhcnREaXYub2Zmc2V0TGVmdDtcbiAgICAgICAgdmFyIHkxID0gZmlyc3RTbmFrZVBhcnREaXYub2Zmc2V0VG9wO1xuICAgICAgICB2YXIgaDEgPSBmaXJzdFNuYWtlUGFydERpdi5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHZhciB3MSA9IGZpcnN0U25ha2VQYXJ0RGl2LmNsaWVudFdpZHRoO1xuICAgICAgICB2YXIgYjEgPSB5MSArIGgxO1xuICAgICAgICB2YXIgcjEgPSB4MSArIHcxO1xuICAgICAgICB2YXIgeDIgPSBkaXYub2Zmc2V0TGVmdDtcbiAgICAgICAgdmFyIHkyID0gZGl2Lm9mZnNldFRvcDtcbiAgICAgICAgdmFyIGgyID0gZGl2LmNsaWVudEhlaWdodDtcbiAgICAgICAgdmFyIHcyID0gZGl2LmNsaWVudEhlaWdodDtcbiAgICAgICAgdmFyIGIyID0geTIgKyBoMjtcbiAgICAgICAgdmFyIHIyID0geDIgKyB3MjtcblxuICAgICAgICBpZiAoYjEgPCB5MiB8fCB5MSA+IGIyIHx8IHIxIDwgeDIgfHwgeDEgPiByMikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIH1cblxuICAgIGdldEZpcnN0U25ha2VQYXJ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zbmFrZVBhcnRzW3RoaXMuc25ha2VQYXJ0cy5sZW5ndGggLSAxXTtcblxuICAgIH1cblxuICAgIHNldExlbmd0aChsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0TGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgc2V0QXJlbmFFbGVtZW50KGFyZW5hRWxlbWVudCkge1xuICAgICAgICB0aGlzLmFyZW5hRWxlbWVudCA9IGFyZW5hRWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXRBcmVuYUVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyZW5hRWxlbWVudDtcbiAgICB9XG5cbiAgICBzZXRQYXJ0U2l6ZShwYXJ0U2l6ZSkge1xuICAgICAgICB0aGlzLnBhcnRTaXplID0gcGFydFNpemU7XG4gICAgfVxuXG4gICAgZ2V0UGFydFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRTaXplO1xuICAgIH1cblxuICAgIHNldERpcmVjdGlvbihkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgfVxuXG4gICAgZ2V0RGlyZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb247XG4gICAgfVxufVxuXG5cbiIsImltcG9ydCBTbmFrZUdhbWUgZnJvbSAnLi9TbmFrZS1nYW1lJztcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIFxuICAgIHZhciBzbmFrZUdhbWUgPSBuZXcgU25ha2VHYW1lKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcmVuYScpLCAxMDApO1xuICAgIHNuYWtlR2FtZS5zZXRTcGVlZCgxMDApO1xuICAgIHNuYWtlR2FtZS5zdGFydCgpO1xufVxuXG4iXX0=\n"]}